(()=>{var e={};e.id=70,e.ids=[70],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6426:(e,n,s)=>{"use strict";s.d(n,{DM:()=>i});let t=Symbol.for("__cloudflare-context__");function i(e={async:!1}){return e.async?c():function(){let e=l();if(e)return e;if(function(){let e=globalThis;return e.__NEXT_DATA__?.nextExport===!0}())throw Error("\n\nERROR: `getCloudflareContext` has been called in sync mode in either a static route or at the top level of a non-static one, both cases are not allowed but can be solved by either:\n  - make sure that the call is not at the top level and that the route is not static\n  - call `getCloudflareContext({async: true})` to use the `async` mode\n  - avoid calling `getCloudflareContext` in the route\n");throw Error(r)}()}function l(){return globalThis[t]}async function c(){let e=l();if(e)return e;{let e=await u();return function(e){globalThis[t]=e}(e),e}}async function u(){let{getPlatformProxy:e}=await import(`${"__wrangler".replaceAll("_","")}`),{env:n,cf:s,ctx:t}=await e({environment:process.env.NEXT_DEV_WRANGLER_ENV});return{env:n,cf:s,ctx:t}}let r='\n\nERROR: `getCloudflareContext` has been called without having called `initOpenNextCloudflareForDev` from the Next.js config file.\nYou should update your Next.js config file as shown below:\n\n   ```\n   // next.config.mjs\n\n   import { initOpenNextCloudflareForDev } from "@opennextjs/cloudflare";\n\n   initOpenNextCloudflareForDev();\n\n'+"   const nextConfig = { ... };\n   export default nextConfig;\n   ```\n\n"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25304:(e,n,s)=>{"use strict";s.r(n),s.d(n,{patchFetch:()=>_,routeModule:()=>p,serverHooks:()=>f,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>g});var t={};s.r(t),s.d(t,{GET:()=>d,OPTIONS:()=>o});var i=s(96559),l=s(48088),c=s(37719),u=s(32190),r=s(6426);function a(e){return e.headers.set("Access-Control-Allow-Origin","*"),e.headers.set("Access-Control-Allow-Methods","GET, OPTIONS"),e.headers.set("Access-Control-Allow-Headers","Content-Type, Authorization"),e}async function o(){return a(new u.NextResponse(null,{status:204}))}async function d(e){try{let n;let{searchParams:s}=new URL(e.url),t=s.get("siteUrl"),i=s.get("siteId");if(!t||!i)return a(u.NextResponse.json({success:!1,error:"Missing siteUrl or siteId"},{status:400}));let{env:l}=await (0,r.DM)({async:!0}),c=await l.WEBFLOW_AUTHENTICATION.get(`site-auth:${i}`);if(console.log("Stored auth data:",c),!c)return a(u.NextResponse.json({success:!1,error:"Unauthorized - No stored auth"},{status:401}));let o=JSON.parse(c);if(console.log("Parsed auth data:",o),!o.accessToken)return a(u.NextResponse.json({success:!1,error:"Unauthorized - Invalid auth data"},{status:401}));let d=await fetch(t);if(!d.ok)throw Error(`Failed to fetch site content: ${d.statusText}`);let p=await d.text(),h=/<script([^>]*)>([\s\S]*?)<\/script>/g,g=/src=["']([^"']+)["']/,f=/type=["']([^"']+)["']/,_=/async/,y=/defer/,m=[];for(;null!==(n=h.exec(p));){let e=n[1],s=n[2],t=e.match(g),i=e.match(f),l=_.test(e),c=y.test(e);(t&&(t[1].includes("google-analytics")||t[1].includes("googletagmanager")||t[1].includes("gtag")||t[1].includes("_ga")||t[1].includes("_gid")||t[1].includes("_gat")||t[1].includes("_gat_")||t[1].includes("facebook")||t[1].includes("fbq")||t[1].includes("_fbp")||t[1].includes("_fbc")||t[1].includes("fr")||t[1].includes("tr")||t[1].includes("li_oatml")||t[1].includes("li_sugr")||t[1].includes("bcookie")||t[1].includes("hubspot")||t[1].includes("hubspotutk")||t[1].includes("__hs_opt_out")||t[1].includes("__hs_do_not_track")||t[1].includes("__hs_initial_opt_in")||t[1].includes("__hs_initial_opt_out")||t[1].includes("zoho")||t[1].includes("zohocsrftoken")||t[1].includes("zohosession")||t[1].includes("webflow")||t[1].includes("wf_session")||t[1].includes("wf_analytics")||t[1].includes("ads")||t[1].includes("advertising")||t[1].includes("marketing")||t[1].includes("tracking")||t[1].includes("campaign")||t[1].includes("cfz_facebook-pixel")||t[1].includes("cfz_reddit")||t[1].includes("_biz_flagsA")||t[1].includes("_biz_nA")||t[1].includes("_biz_pendingA")||t[1].includes("_biz_uid")||t[1].includes("_hp5_")||t[1].includes("_mkto_trk")||t[1].includes("analytics")||t[1].includes("stats")||t[1].includes("metrics")||t[1].includes("AMCV_")||t[1].includes("CF_VERIFIED_DEVICE")||t[1].includes("optimizely")||t[1].includes("pardot")||t[1].includes("salesforce")||t[1].includes("intercom")||t[1].includes("drift")||t[1].includes("zendesk")||t[1].includes("freshchat")||t[1].includes("tawk")||t[1].includes("livechat")||t[1].includes("olark")||t[1].includes("purechat")||t[1].includes("snapengage")||t[1].includes("liveperson")||t[1].includes("boldchat")||t[1].includes("clickdesk")||t[1].includes("userlike")||t[1].includes("zopim")||t[1].includes("crisp")||t[1].includes("hotjar")||t[1].includes("mouseflow")||t[1].includes("fullstory")||t[1].includes("logrocket")||t[1].includes("mixpanel")||t[1].includes("segment")||t[1].includes("amplitude")||t[1].includes("heap")||t[1].includes("kissmetrics")||t[1].includes("matomo")||t[1].includes("piwik")||t[1].includes("woopra")||t[1].includes("crazyegg")||t[1].includes("clicktale")||t[1].includes("hubspot")||t[1].includes("marketo")||t[1].includes("pardot")||t[1].includes("salesforce")||t[1].includes("intercom")||t[1].includes("drift")||t[1].includes("zendesk")||t[1].includes("freshchat")||t[1].includes("tawk")||t[1].includes("livechat")||t[1].includes("olark")||t[1].includes("purechat")||t[1].includes("snapengage")||t[1].includes("liveperson")||t[1].includes("boldchat")||t[1].includes("clickdesk")||t[1].includes("userlike")||t[1].includes("zopim")||t[1].includes("crisp")||t[1].includes("linkedin")||t[1].includes("twitter")||t[1].includes("pinterest")||t[1].includes("tiktok")||t[1].includes("snap")||t[1].includes("reddit")||t[1].includes("quora")||t[1].includes("outbrain")||t[1].includes("taboola")||t[1].includes("sharethrough")||t[1].includes("moat")||t[1].includes("integral-marketing")||t[1].includes("comscore")||t[1].includes("nielsen")||t[1].includes("quantcast")||t[1].includes("adobe")||t[1].includes("marketo")||t[1].includes("hubspot")||t[1].includes("salesforce")||t[1].includes("pardot")||t[1].includes("eloqua")||t[1].includes("act-on")||t[1].includes("mailchimp")||t[1].includes("constantcontact")||t[1].includes("sendgrid")||t[1].includes("klaviyo")||t[1].includes("braze")||t[1].includes("iterable")||t[1].includes("appsflyer")||t[1].includes("adjust")||t[1].includes("branch")||t[1].includes("kochava")||t[1].includes("singular")||t[1].includes("tune")||t[1].includes("attribution")||t[1].includes("chartbeat")||t[1].includes("parse.ly")||t[1].includes("newrelic")||t[1].includes("datadog")||t[1].includes("sentry")||t[1].includes("rollbar")||t[1].includes("bugsnag")||t[1].includes("raygun")||t[1].includes("loggly")||t[1].includes("splunk")||t[1].includes("elastic")||t[1].includes("dynatrace")||t[1].includes("appoptics")||t[1].includes("pingdom")||t[1].includes("uptimerobot")||t[1].includes("statuscake")||t[1].includes("clarity")||t[1].includes("clickagy")||t[1].includes("yandex")||t[1].includes("baidu"))||s&&(s.includes("hotjar")||s.includes("fbq")||s.includes("dataLayer")||s.includes("gtag")||s.includes("googletagmanager")))&&m.push({src:t?t[1]:null,content:s.trim()||null,type:i?i[1]:null,async:l,defer:c})}console.log("Found analytics scripts:",m.length),m.forEach(e=>{console.log("Script:",{src:e.src,type:e.type,async:e.async,defer:e.defer,contentLength:e.content?.length})});let k={analyticsScripts:m,totalScripts:m.length,totalAnalyticsScripts:m.length};return a(u.NextResponse.json({success:!0,data:k}))}catch(e){return console.error("Error fetching analytics scripts:",e),a(u.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to fetch analytics scripts"},{status:500}))}}let p=new i.AppRouteRouteModule({definition:{kind:l.RouteKind.APP_ROUTE,page:"/api/analytics/route",pathname:"/api/analytics",filename:"route",bundlePath:"app/api/analytics/route"},resolvedPagePath:"C:\\Seattle\\Cookie App\\Consernbit-Cloudflare-Server-Test\\cb-server\\app\\api\\analytics\\route.ts",nextConfigOutput:"standalone",userland:t}),{workAsyncStorage:h,workUnitAsyncStorage:g,serverHooks:f}=p;function _(){return(0,c.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:g})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var n=require("../../../webpack-runtime.js");n.C(e);var s=e=>n(n.s=e),t=n.X(0,[297,190],()=>s(25304));module.exports=t})();