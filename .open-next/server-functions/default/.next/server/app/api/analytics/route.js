(()=>{var e={};e.id=70,e.ids=[70],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6426:(e,t,n)=>{"use strict";n.d(t,{DM:()=>a});let r=Symbol.for("__cloudflare-context__");function a(e={async:!1}){return e.async?o():function(){let e=s();if(e)return e;if(function(){let e=globalThis;return e.__NEXT_DATA__?.nextExport===!0}())throw Error("\n\nERROR: `getCloudflareContext` has been called in sync mode in either a static route or at the top level of a non-static one, both cases are not allowed but can be solved by either:\n  - make sure that the call is not at the top level and that the route is not static\n  - call `getCloudflareContext({async: true})` to use the `async` mode\n  - avoid calling `getCloudflareContext` in the route\n");throw Error(l)}()}function s(){return globalThis[r]}async function o(){let e=s();if(e)return e;{let e=await i();return function(e){globalThis[r]=e}(e),e}}async function i(){let{getPlatformProxy:e}=await import(`${"__wrangler".replaceAll("_","")}`),{env:t,cf:n,ctx:r}=await e({environment:process.env.NEXT_DEV_WRANGLER_ENV});return{env:t,cf:n,ctx:r}}let l='\n\nERROR: `getCloudflareContext` has been called without having called `initOpenNextCloudflareForDev` from the Next.js config file.\nYou should update your Next.js config file as shown below:\n\n   ```\n   // next.config.mjs\n\n   import { initOpenNextCloudflareForDev } from "@opennextjs/cloudflare";\n\n   initOpenNextCloudflareForDev();\n\n'+"   const nextConfig = { ... };\n   export default nextConfig;\n   ```\n\n"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},20307:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{GET:()=>l});var a=n(83636),s=n(32190),o=n(6426),i=e([a]);async function l(e){try{let{env:t}=await (0,o.DM)({async:!0});if(!await t.WEBFLOW_AUTHENTICATION.get("accessToken"))return s.NextResponse.json({error:"Unauthorized"},{status:401});let n=e.nextUrl.searchParams.get("siteUrl");if(!n)return s.NextResponse.json({error:"Missing or invalid siteUrl parameter"},{status:400});let r=await a.default.launch({headless:!0}),i=await r.newPage();try{await i.goto(n,{waitUntil:"networkidle2"});let e=await i.evaluate(()=>Array.from(document.scripts).map(e=>({src:e.src||null,content:e.textContent||e.innerHTML||null,type:e.type||null,async:e.async,defer:e.defer}))),t=e.filter(e=>{let t=e.src?.toLowerCase()||"",n=e.content?.toLowerCase()||"";return t.includes("google-analytics")||t.includes("googletagmanager")||t.includes("gtag")||n.includes("gtag")||n.includes("datalayer")||n.includes("google-analytics")||t.includes("facebook")||t.includes("fbq")||n.includes("fbq")||n.includes("facebook")||t.includes("hotjar")||n.includes("hotjar")||t.includes("mixpanel")||t.includes("segment")||t.includes("amplitude")||t.includes("heap")||t.includes("intercom")||t.includes("drift")||t.includes("crisp")||t.includes("zendesk")});return console.log("Found scripts:",e.length),console.log("Analytics scripts:",t.length),t.forEach(e=>{console.log("Script:",{src:e.src,contentLength:e.content?.length,type:e.type})}),s.NextResponse.json({analyticsScripts:t})}finally{await r.close()}}catch(e){return console.error("Error:",e),s.NextResponse.json({error:"Failed to fetch analytics scripts"},{status:500})}}a=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},83636:e=>{"use strict";e.exports=import("puppeteer")},96487:()=>{},97686:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{patchFetch:()=>c,routeModule:()=>u,serverHooks:()=>f,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>p});var a=n(96559),s=n(48088),o=n(37719),i=n(20307),l=e([i]);i=(l.then?(await l)():l)[0];let u=new a.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/analytics/route",pathname:"/api/analytics",filename:"route",bundlePath:"app/api/analytics/route"},resolvedPagePath:"C:\\Seattle\\Cookie App\\Consernbit-Cloudflare-Server-Test\\cb-server\\app\\api\\analytics\\route.ts",nextConfigOutput:"standalone",userland:i}),{workAsyncStorage:d,workUnitAsyncStorage:p,serverHooks:f}=u;function c(){return(0,o.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:p})}r()}catch(e){r(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[297,190],()=>n(97686));module.exports=r})();